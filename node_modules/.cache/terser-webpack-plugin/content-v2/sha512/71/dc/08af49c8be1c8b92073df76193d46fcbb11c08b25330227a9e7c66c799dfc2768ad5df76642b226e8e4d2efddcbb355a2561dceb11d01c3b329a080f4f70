{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{352:function(t,s,i){\"use strict\";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i(\"div\",{staticClass:\"module-container\"},[i(\"module-nav\",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(\" \"),i(\"div\",{staticClass:\"module-content\"},[i(\"div\",{staticClass:\"in\"},[i(\"form\",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[i(\"table\",{staticClass:\"input-tb\"},[i(\"tbody\",[i(\"tr\",{class:t.getClass(t.error.name),attrs:{id:\"name\"}},[i(\"td\",[t._v(\"名称\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.name,expression:\"form.name\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,\"name\",s.target.value)}}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.name))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.letter),attrs:{id:\"letter\"}},[i(\"td\",[t._v(\"首字母\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.letter,expression:\"form.letter\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.letter},on:{input:function(s){s.target.composing||t.$set(t.form,\"letter\",s.target.value)}}}),t._v(\" \"),i(\"button\",{staticClass:\"run-button run-button-blue\",attrs:{type:\"button\"},on:{click:t.firstLetterEvent}},[t._v(\"自动获取拼音首字母\")]),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"拼音首字母\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.letter))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.logo),attrs:{id:\"logo\"}},[i(\"td\",[t._v(\"logo\")]),t._v(\" \"),i(\"td\",{ref:\"image-container\"},[i(\"div\",{staticClass:\"upload-image\"},[t._m(0),t._v(\" \"),i(\"div\",{staticClass:\"init-show-image-list\"},[\"edit\"==t.param.mode&&t.form.logo?i(\"img\",{staticClass:\"init-show-image\",attrs:{src:t.form.logo}}):t._e()]),t._v(\" \"),i(\"div\",{staticClass:\"preview-images hide\"}),t._v(\" \"),t._m(1)]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.logo))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.hot),attrs:{id:\"hot\"}},[i(\"td\",[t._v(\"是否热门\")]),t._v(\" \"),i(\"td\",[i(\"RadioGroup\",{model:{value:t.form.hot,callback:function(s){t.$set(t.form,\"hot\",s)},expression:\"form.hot\"}},t._l(t.$store.state.business.bool_str,function(s,e){return i(\"Radio\",{key:e,attrs:{label:e}},[t._v(t._s(s))])}),1),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：否\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.hot))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.weight),attrs:{id:\"weight\"}},[i(\"td\",[t._v(\"权重\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.weight,expression:\"form.weight\"}],staticClass:\"form-text\",attrs:{type:\"number\",step:\"0\"},domProps:{value:t.form.weight},on:{input:function(s){s.target.composing||t.$set(t.form,\"weight\",s.target.value)}}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：0，仅允许输入整数\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.weight))])])]),t._v(\" \"),t._m(2)])])])])]),t._v(\" \"),i(\"v-loading\",{ref:\"loading\"})],1)};e._withStripped=!0;var a={name:\"v-brand\",data:function(){return{form:{name:\"\",letter:\"\",hot:\"n\",weight:0},error:{},ajax:{get:null,submit:null},dom:{},ins:{loading:null,image:null},pending:{submit:null},data:{},callback:{image:null},api:brandApi,image:{}}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.getData()},mixins:[mixins.state,mixins.loading,mixins.form.image,mixins.form.get,mixins.form.confirm],methods:{initDom:function(){},initInstance:function(){},check:function(t){return{status:!0,field:\"\",msg:\"\"}},firstLetterEvent:function(t){var s=t.currentTarget;this.form.name?this.form.letter=this.firstLetter(this.form.name):this.$tip(\"请先填写名称\",s)},submit:function(){var t=this;new Promise(function(s){if(t.pending.submit)t.$info(\"请求中...请耐心等待\");else{var i=t.check();if(!i.status)return t.error[i.field]=i.msg,void vScroll(i.field);t.pending.submit=!0,t.ins.loading.show(),t.ajax.submit=t.api[t.param.mode](t.form,function(i,e){if(200!=e)return t.initialState(\"loading\",\"submit\",\"submit\"),400==e?(t.error=i,void vScroll(G.firstKey(i))):void t.$error(i);t.form.id=i,s()}),t.ins.loading.setArgs(t.ajax.submit,\"submit\")}}).then(function(){return new Promise(function(s){t.ins.image.empty()?s(!1):(t.callback.image=function(i,e){if(200!=e)return t.eNotice(i),void s(!1);t.image=i,s(!0)},t.ins.image.upload())})}).then(function(s){return new Promise(function(i){s?t.api.image({id:t.form.id,image:t.image.url},function(s,e){i(),200==e||t.eNotice(s)}):i(!0)})}).then(function(){t.confirm(\"品牌列表\",\"/brand/list\")}).finally(function(){t.initialState(\"loading\",\"submit\",\"submit\")})}}},n=(i(378),i(496),i(497),i(23)),r=Object(n.a)(a,e,[function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"select-images\"},[s(\"div\",{staticClass:\"upload-show\"},[s(\"div\",{staticClass:\"image-line\"},[s(\"img\",{staticClass:\"image upload-image-btn\",attrs:{src:\"\"}}),s(\"span\",{staticClass:\"selected-count hide\"},[this._v(\"10\")])]),this._v(\" \"),s(\"div\",{staticClass:\"text-line\"},[this._v(\"请选择要上传的图片\")]),this._v(\" \"),s(\"div\",{staticClass:\"clear-selected\",attrs:{title:\"清空已选择的图片\"}},[s(\"img\",{staticClass:\"image\",attrs:{src:\"\"}})]),this._v(\" \"),s(\"input\",{staticClass:\"upload-images-input\",attrs:{type:\"file\",name:\"upload_images\",multiple:\"multiple\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"tip\"},[this._v(\"这边是提示内容\")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i(\"div\",{staticClass:\"upload-image-list hide\"},[i(\"div\",{staticClass:\"upload-title\"},[t._v(\"待上传列表\")]),t._v(\" \"),i(\"div\",{staticClass:\"image-list\"},[i(\"div\",{staticClass:\"list-content list-title\"},[i(\"div\",{staticClass:\"item div-preview\"},[t._v(\"图片预览\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-type\"},[t._v(\"类型\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-size\"},[t._v(\"大小\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-speed\"},[t._v(\"速度\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-status\"},[t._v(\"状态\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-opr\"},[t._v(\"操作\")])]),t._v(\" \"),i(\"div\",{staticClass:\"list-content list-body\"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"tr\",[s(\"td\",{attrs:{colspan:\"2\"}},[s(\"button\",{staticClass:\"run-button run-button-submit\",attrs:{type:\"submit\"}},[this._v(\"提交\")])])])}],!1,null,\"4193df58\",null);r.options.__file=\"source/vue/view/brand/brand.vue\";s.default=r.exports},377:function(t,s,i){},378:function(t,s,i){\"use strict\";var e=i(377);i.n(e).a},404:function(t,s,i){},405:function(t,s,i){},496:function(t,s,i){\"use strict\";var e=i(404);i.n(e).a},497:function(t,s,i){\"use strict\";var e=i(405);i.n(e).a}}]);","extractedComments":[]}