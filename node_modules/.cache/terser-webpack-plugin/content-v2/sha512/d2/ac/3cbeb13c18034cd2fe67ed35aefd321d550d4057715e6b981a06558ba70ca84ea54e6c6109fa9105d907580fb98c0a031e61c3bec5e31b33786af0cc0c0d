{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{344:function(t,i,s){\"use strict\";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s(\"div\",{staticClass:\"module-container\"},[s(\"module-nav\",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(\" \"),s(\"div\",{staticClass:\"module-content\"},[s(\"form\",{on:{submit:function(i){return i.preventDefault(),t.submit(i)},reset:t.reset}},[t._m(0),t._v(\" \"),s(\"div\",{staticClass:\"filter-options\"},[s(\"div\",{staticClass:\"option\"},[s(\"div\",{staticClass:\"field\"},[t._v(\"ID：\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.id,expression:\"form.id\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.id},on:{input:function(i){i.target.composing||t.$set(t.form,\"id\",i.target.value)}}})])]),t._v(\" \"),s(\"div\",{staticClass:\"option\"},[s(\"div\",{staticClass:\"field\"},[t._v(\"名称：\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.id,expression:\"form.id\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.id},on:{input:function(i){i.target.composing||t.$set(t.form,\"id\",i.target.value)}}})])]),t._v(\" \"),s(\"div\",{staticClass:\"option\"},[s(\"div\",{staticClass:\"field\"},[t._v(\"上级路由：\")]),t._v(\" \"),s(\"div\",{staticClass:\"value\"},[s(\"v-select\",{attrs:{value:t.form.p_id,data:t.all,width:200}})],1)]),t._v(\" \"),t._m(1)])]),t._v(\" \"),s(\"div\",{staticClass:\"list\"},[s(\"div\",{staticClass:\"data\"},[s(\"div\",{staticClass:\"component-title\"},[s(\"div\",{staticClass:\"left\"},[t._v(\"数据测试\")]),t._v(\" \"),s(\"div\",{staticClass:\"right\"},[s(\"button\",{staticClass:\"btn-8\",attrs:{type:\"button\"},on:{click:t.del}},[t._v(\"删除选中项\")]),t._v(\" \"),s(\"button\",{staticClass:\"btn-8\",attrs:{type:\"button\"},on:{click:function(i){return t.location(\"/route/add\",{mode:\"add\"})}}},[t._v(\"添加\")])])]),t._v(\" \"),s(\"table\",{staticClass:\"line-tb\"},[s(\"thead\",[s(\"tr\",[s(\"th\",{staticClass:\"th-cbox\"},[s(\"input\",{attrs:{type:\"checkbox\"},on:{click:t.selectAllEvent}})]),t._v(\" \"),s(\"th\",{staticClass:\"th-id\"},[t._v(\"ID\")]),t._v(\" \"),s(\"th\",{staticClass:\"th-name\"},[t._v(\"名称\")]),t._v(\" \"),s(\"th\",{staticClass:\"th-name\"},[t._v(\"路由\")]),t._v(\" \"),s(\"th\",{staticClass:\"th-weight\"},[t._v(\"权重\")]),t._v(\" \"),s(\"th\",{staticClass:\"th-time\"},[t._v(\"创建时间\")]),t._v(\" \"),s(\"th\",{staticClass:\"th-opr\"},[t._v(\"操作\")])])]),t._v(\" \"),s(\"tbody\",{ref:\"tbody\"},[t._l(t.data,function(i){return s(\"tr\",{key:i.id,attrs:{\"data-id\":i.id},on:{click:t.selectEvent}},[t._m(2,!0),t._v(\" \"),s(\"td\",[t._v(t._s(i.id))]),t._v(\" \"),s(\"td\",{staticClass:\"text-left\"},[t._v(t._s(i.floor>1?\"|\"+\"_\".repeat(4*(i.floor-1)):\"\")+t._s(i.name))]),t._v(\" \"),s(\"td\",[t._v(t._s(i.route))]),t._v(\" \"),s(\"td\",[t._v(t._s(i.weight))]),t._v(\" \"),s(\"td\",[t._v(t._s(i.create_time))]),t._v(\" \"),s(\"td\",[s(\"button\",{staticClass:\"btn-1\",attrs:{type:\"button\"},on:{click:function(s){return s.stopPropagation(),t.location(\"/route/edit\",{id:i.id,mode:\"edit\"})}}},[t._v(\"编辑\")]),t._v(\" \"),s(\"button\",{staticClass:\"btn-1\",attrs:{type:\"button\"},on:{click:function(s){return t.delTarget(i.id)}}},[t._v(\"删除\")])])])}),t._v(\" \"),0==t.data.length?s(\"tr\",[s(\"td\",{attrs:{colspan:\"7\"}},[t._v(\"没有相关数据\")])]):t._e()],2)])]),t._v(\" \"),s(\"div\",{staticClass:\"page\"})])]),t._v(\" \"),s(\"v-loading\",{ref:\"loading\"})],1)};e._withStripped=!0;var a={name:\"v-list\",mixins:[],data:function(){return{form:{id:\"\",p_id:\"\",name:\"\"},ins:{loading:null},pending:{del:null},ajax:{list:null},dom:{},api:routeApi,data:[],idList:[],all:[]}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.getData(),this.getAll()},methods:{initDom:function(){this.dom.tbody=G(this.$refs.tbody)},initInstance:function(){var t=this;this.ins.loading=new Loading(this.$refs.loading.$el,{status:\"hide\",type:\"line-scale\",close:function(i,s){i instanceof G.ajax&&i.native(\"abort\"),G.isString(s)&&(t.pending[s]=!1)}})},getData:function(){var t=this;this.ins.loading.show(),this.ajax.list=this.api.list(this.form,function(i,s){t.ins.loading.hide(),200==s?t.data=i:t.$error(i)}),this.ins.loading.setArgs(this.ajax.list)},getAll:function(){var t=this;this.ins.loading.show(),this.ajax.list=this.api.list(null,function(i,s){t.ins.loading.hide(),200==s?t.all=i:t.$error(i)}),this.ins.loading.setArgs(this.ajax.list)},submit:function(){},reset:function(){},del:function(){var t=this;this.pending.del?layer.alert(\"请求中...请耐心等待\"):(this.ins.loading.show(),this.ajax.del=this.api.del({id_list:G.jsonEncode(this.idList)},function(i){t.pending.del=!1,t.ins.loading.hide(),200==i.code?(t.idList=[],t.$success(\"删除成功\"),t.getData()):t.$error(i.data)}),this.ins.loading.setArgs(this.ajax.del,\"del\"))},delTarget:function(t){this.addId(t),this.del()},selectEvent:function(t){var i=G(t.currentTarget),s=i.data(\"id\");G(\".c-box\",i.get(0)).native(\"checked\")?this.unselectedLine(s):this.selectedLine(s)},selectAllEvent:function(t){var i=this,s=G(t.currentTarget).native(\"checked\");this.dom.tbody.children().each(function(t){var e=(t=G(t)).data(\"id\");s?i.selectedLine(e):i.unselectedLine(e)})},selectedLine:function(t){for(var i=this.dom.tbody.children({tagName:\"tr\"}),s=0;s<i.length;++s){var e=i.jump(s,!0);if(e.data(\"id\")==t){e.addClass(\"focus\");G(\".c-box\",e.get(0)).native(\"checked\",!0);this.addId(t)}}},unselectedLine:function(t){for(var i=this.dom.tbody.children({tagName:\"tr\"}),s=0;s<i.length;++s){var e=i.jump(s,!0);if(e.data(\"id\")==t){e.removeClass(\"focus\");G(\".c-box\",e.get(0)).native(\"checked\",!1);this.delId(t)}}},addId:function(t){-1==this.idList.indexOf(t)&&this.idList.push(t)},delId:function(t){var i;-1!=(i=this.idList.indexOf(t))&&this.idList.splice(i,1)}}},n=(s(362),s(363),s(364),s(43)),o=Object(n.a)(a,e,[function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",{staticClass:\"component-title\"},[i(\"div\",{staticClass:\"left\"},[this._v(\"筛选\")]),this._v(\" \"),i(\"div\",{staticClass:\"right\"})])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",{staticClass:\"option\"},[i(\"div\",{staticClass:\"field\"}),this._v(\" \"),i(\"div\",{staticClass:\"value\"},[i(\"button\",{staticClass:\"btn-1\",attrs:{type:\"submit\"}},[this._v(\"提交\")]),this._v(\" \"),i(\"button\",{staticClass:\"btn-1\",attrs:{type:\"reset\"}},[this._v(\"重置\")])])])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"td\",[i(\"input\",{staticClass:\"c-box\",attrs:{type:\"checkbox\"}})])}],!1,null,\"6c62bf5f\",null);o.options.__file=\"source/vue/view/route/list.vue\";i.default=o.exports},349:function(t,i,s){},350:function(t,i,s){},351:function(t,i,s){},362:function(t,i,s){\"use strict\";var e=s(349);s.n(e).a},363:function(t,i,s){\"use strict\";var e=s(350);s.n(e).a},364:function(t,i,s){\"use strict\";var e=s(351);s.n(e).a}}]);","extractedComments":[]}