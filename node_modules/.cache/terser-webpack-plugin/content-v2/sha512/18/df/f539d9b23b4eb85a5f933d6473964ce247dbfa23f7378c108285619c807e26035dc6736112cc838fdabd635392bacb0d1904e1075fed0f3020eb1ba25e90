{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{345:function(t,s,a){\"use strict\";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"module-container\"},[a(\"module-nav\",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(\" \"),a(\"div\",{staticClass:\"module-content\"},[a(\"form\",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[a(\"table\",{staticClass:\"input-tb\"},[a(\"tbody\",[a(\"tr\",{class:t.getClass(t.error.name),attrs:{id:\"name\"}},[a(\"td\",[t._v(\"名称\")]),t._v(\" \"),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.name,expression:\"form.name\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,\"name\",s.target.value)}}}),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.name))])])]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.en),attrs:{id:\"en\"}},[a(\"td\",[t._v(\"英文名称\")]),t._v(\" \"),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.en,expression:\"form.en\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.en},on:{input:function(s){s.target.composing||t.$set(t.form,\"en\",s.target.value)}}}),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.en))])])]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.route),attrs:{id:\"route\"}},[a(\"td\",[t._v(\"路由名称\")]),t._v(\" \"),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.route,expression:\"form.route\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.route},on:{input:function(s){s.target.composing||t.$set(t.form,\"route\",s.target.value)}}}),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.route))])])]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.method),attrs:{id:\"method\"}},[a(\"td\",[t._v(\"方法\")]),t._v(\" \"),a(\"td\",[a(\"RadioGroup\",{model:{value:t.form.method,callback:function(s){t.$set(t.form,\"method\",s)},expression:\"form.method\"}},t._l(t.$store.state.business.route.method,function(s){return a(\"Radio\",{key:s,attrs:{label:s}},[t._v(t._s(s))])}),1),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.method))])],1)]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.type),attrs:{id:\"type\"}},[a(\"td\",[t._v(\"类型\")]),t._v(\" \"),a(\"td\",[a(\"RadioGroup\",{model:{value:t.form.type,callback:function(s){t.$set(t.form,\"type\",s)},expression:\"form.type\"}},t._l(t.$store.state.business.route.type,function(s){return a(\"Radio\",{key:s,attrs:{label:s}},[t._v(t._s(s))])}),1),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.type))])],1)]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.s_ico),attrs:{id:\"s_ico\"}},[a(\"td\",[t._v(\"小图标\")]),t._v(\" \"),a(\"td\",{ref:\"small-image-container\"},[a(\"div\",{staticClass:\"upload-image\"},[t._m(0),t._v(\" \"),a(\"div\",{staticClass:\"init-show-image-list\"},[\"edit\"==t.param.mode&&t.form.url?a(\"img\",{staticClass:\"init-show-image\",attrs:{src:t.form.url}}):t._e()]),t._v(\" \"),t._m(1),t._v(\" \"),t._m(2)]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.s_ico))])])]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.b_ico),attrs:{id:\"b_ico\"}},[a(\"td\",[t._v(\"大图标\")]),t._v(\" \"),a(\"td\",{ref:\"big-image-container\"},[a(\"div\",{staticClass:\"upload-image\"},[t._m(3),t._v(\" \"),a(\"div\",{staticClass:\"init-show-image-list\"},[\"edit\"==t.param.mode&&t.form.url?a(\"img\",{staticClass:\"init-show-image\",attrs:{src:t.form.url}}):t._e()]),t._v(\" \"),t._m(4),t._v(\" \"),t._m(5)]),t._v(\" \"),a(\"span\",{staticClass:\"tip\"}),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.b_ico))])])]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.p_id),attrs:{id:\"p_id\"}},[a(\"td\",[t._v(\"上级路由\")]),t._v(\" \"),a(\"td\",[a(\"v-select\",{attrs:{data:t.routes,width:300},model:{value:t.form.p_id,callback:function(s){t.$set(t.form,\"p_id\",s)},expression:\"form.p_id\"}}),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),a(\"span\",{staticClass:\"tip\"},[t._v(\"默认：顶级路由\")]),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.p_id))])],1)]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.enable),attrs:{id:\"enable\"}},[a(\"td\",[t._v(\"是否启用\")]),t._v(\" \"),a(\"td\",[a(\"RadioGroup\",{model:{value:t.form.enable,callback:function(s){t.$set(t.form,\"enable\",s)},expression:\"form.enable\"}},t._l(t.$store.state.business.bool_str,function(s,i){return a(\"Radio\",{key:i,attrs:{label:i}},[t._v(t._s(s))])}),1),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),a(\"span\",{staticClass:\"tip\"},[t._v(\"默认：是\")]),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.enable))])],1)]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.hidden),attrs:{id:\"hidden\"}},[a(\"td\",[t._v(\"是否隐藏\")]),t._v(\" \"),a(\"td\",[a(\"RadioGroup\",{model:{value:t.form.hidden,callback:function(s){t.$set(t.form,\"hidden\",s)},expression:\"form.hidden\"}},t._l(t.$store.state.business.bool_str,function(s,i){return a(\"Radio\",{key:i,attrs:{label:i}},[t._v(t._s(s))])}),1),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),a(\"span\",{staticClass:\"tip\"},[t._v(\"默认：否\")]),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.hidden))])],1)]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.menu),attrs:{id:\"menu\"}},[a(\"td\",[t._v(\"是否菜单\")]),t._v(\" \"),a(\"td\",[a(\"RadioGroup\",{model:{value:t.form.menu,callback:function(s){t.$set(t.form,\"menu\",s)},expression:\"form.menu\"}},t._l(t.$store.state.business.bool_str,function(s,i){return a(\"Radio\",{key:i,attrs:{label:i}},[t._v(t._s(s))])}),1),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),a(\"span\",{staticClass:\"tip\"},[t._v(\"默认：否\")]),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.menu))])],1)]),t._v(\" \"),a(\"tr\",{class:t.getClass(t.error.weight),attrs:{id:\"weight\"}},[a(\"td\",[t._v(\"权重\")]),t._v(\" \"),a(\"td\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.weight,expression:\"form.weight\"}],staticClass:\"form-text\",attrs:{type:\"number\",step:\"0\"},domProps:{value:t.form.weight},on:{input:function(s){s.target.composing||t.$set(t.form,\"weight\",s.target.value)}}}),t._v(\" \"),a(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),a(\"span\",{staticClass:\"tip\"},[t._v(\"默认：0，仅允许输入整数\")]),t._v(\" \"),a(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.weight))])])]),t._v(\" \"),t._m(6)])])])]),t._v(\" \"),a(\"v-loading\",{ref:\"loading\"})],1)};i._withStripped=!0;var e={name:\"v-route\",data:function(){return{form:{method:\"GET\",type:\"view\",p_id:0,weight:0,enable:\"y\",hidden:\"n\",menu:\"n\"},error:{},ajax:{get:null,submit:null},dom:{},ins:{loading:null,small:null,big:null},pending:{submit:null},data:{},callback:{image:null},api:routeApi,routes:[]}},created:function(){},mounted:function(){var t=this;this.initDom(),this.initInstance(),\"edit\"==this.param.mode?new Promise(function(s,a){t.getRoute(s)}).then(function(){t.getData()}):this.getRoute()},methods:{initDom:function(){},initInstance:function(){var t=this;this.ins.loading=new Loading(this.$refs.loading.$el,{status:\"hide\",type:\"line-scale\",close:function(s,a){s instanceof G.ajax&&s.native(\"abort\"),t.pending[a]=!1}}),this.ins.small=new UploadImage(this.$refs[\"small-image-container\"],{pluginUrl:topContext.plugin+\"UploadImage/\",mode:\"override\",url:\"\".concat(topContext.api,\"Image/save\"),field:\"image\",success:function(s,a){G.isFunction(t.callback.small)&&t.callback.small(s,a)}}),this.ins.big=new UploadImage(this.$refs[\"big-image-container\"],{pluginUrl:topContext.plugin+\"UploadImage/\",mode:\"override\",url:\"\".concat(topContext.api,\"Image/save\"),field:\"image\",success:function(s,a){G.isFunction(t.callback.big)&&t.callback.big(s,a)}})},getData:function(){var t=this;this.ins.loading.show(),this.ajax.getData=this.api.detail({id:this.param.id},function(s,a){200==a?t.data=s:t.$error(s)}),this.ins.loading.setArgs(this.ajax.getData)},getRoute:function(t){var s=this;this.api.list(null,function(a,i){200==i?(s.routes=a,G.isFunction(t)&&t()):s.$msg(a)})},check:function(t){return{status:!0,field:\"\",msg:\"\"}},submit:function(){var t=this;if(this.pending.submit)layer.alert(\"请求中...请耐心等待\");else{var s=this.check();if(!s.status)return this.error[s.field]=s.msg,void vScroll(s.field);this.pending.submit=!0,this.ins.loading.show();var a=this;new Promise(function(s,a){t.ajax.submit=t.api[t.param.mode](t.form,function(a,i){if(200!=i){if(t.pending.submit=!1,t.ins.loading.hide(),400==i)return t.error=a,void vScroll(G.firstKey(a));if(460==i)return void t.$error(a)}t.form.id=a,s()}),t.ins.loading.setArgs(t.ajax.submit,\"submit\")}).then(function(){return new Promise(function(s,a){t.ins.small.empty()?s():(t.ins.small.upload(),t.callback.small=s)})}).then(function(s,a){return new Promise(function(i){G.isUndefined(s)?i():(200!=a&&(t.$msg(s),i()),t.api.saveImage({id:t.form.id,image:s.url,type:\"small\"},i))})}).then(function(){return new Promise(function(s,a){t.ins.big.empty()?s():(t.ins.big.upload(),t.callback.big=s)})}).then(function(s,a){return new Promise(function(i){G.isUndefined(s)?i():(200!=a&&(t.$msg(s),i()),t.api.saveImage({id:t.form.id,image:s.url,type:\"big\"},i))})}).then(function(){t.$success(\"操作成功\",{btn:[\"继续\"+(\"edit\"==t.param.mode?\"编辑\":\"添加\"),\"路由列表\"],btn1:function(t){layer.close(t)},btn2:function(){a.location(\"/route/list\",null,\"_self\")}})}).finally(function(){t.pending.submit=!1,t.ins.loading.hide()})}}}},n=(a(365),a(366),a(43)),l=Object(n.a)(e,i,[function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"select-images\"},[s(\"div\",{staticClass:\"upload-show\"},[s(\"div\",{staticClass:\"image-line\"},[s(\"img\",{staticClass:\"image upload-image-btn\",attrs:{src:\"\"}}),s(\"span\",{staticClass:\"selected-count hide\"},[this._v(\"10\")])]),this._v(\" \"),s(\"div\",{staticClass:\"text-line\"},[this._v(\"请选择要上传的图片\")]),this._v(\" \"),s(\"div\",{staticClass:\"clear-selected\",attrs:{title:\"清空已选择的图片\"}},[s(\"img\",{staticClass:\"image\",attrs:{src:\"\"}})]),this._v(\" \"),s(\"input\",{staticClass:\"upload-images-input\",attrs:{type:\"file\",name:\"upload_images\",multiple:\"multiple\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"tip\"},[this._v(\"这边是提示内容\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"preview-images hide\"},[s(\"div\",{staticClass:\"image-item\",attrs:{\"data-filename\":\"sama-96.jpg\"}},[s(\"div\",{staticClass:\"img\"},[s(\"img\",{staticClass:\"image\",attrs:{src:\"http://qp333com.oss-cn-hangzhou.aliyuncs.com/7peishang.com/avatar/2017-11-10/bf07531ad5dd288afc93bab47ee8d258.jpg\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"close\"},[s(\"img\",{staticClass:\"image\",attrs:{src:\"/UploadImages/Images/delete_unfocus.png\",\"data-focus\":\"/UploadImages/Images/delete_focus.png\",\"data-unfocus\":\"/UploadImages/Images/delete_unfocus.png\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"progress hide\"},[s(\"div\",{staticClass:\"p-total\"},[s(\"div\",{staticClass:\"p-cur\"})])]),this._v(\" \"),s(\"div\",{staticClass:\"msg hide\"},[s(\"div\",{staticClass:\"msg-in\"},[this._v(\"成功\")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"upload-image-list hide\"},[a(\"div\",{staticClass:\"upload-title\"},[t._v(\"待上传列表\")]),t._v(\" \"),a(\"div\",{staticClass:\"image-list\"},[a(\"div\",{staticClass:\"list-content list-title\"},[a(\"div\",{staticClass:\"item div-preview\"},[t._v(\"图片预览\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-type\"},[t._v(\"类型\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-size\"},[t._v(\"大小\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-speed\"},[t._v(\"速度\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-status\"},[t._v(\"状态\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-opr\"},[t._v(\"操作\")])]),t._v(\" \"),a(\"div\",{staticClass:\"list-content list-body\"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"select-images\"},[s(\"div\",{staticClass:\"upload-show\"},[s(\"div\",{staticClass:\"image-line\"},[s(\"img\",{staticClass:\"image upload-image-btn\",attrs:{src:\"\"}}),s(\"span\",{staticClass:\"selected-count hide\"},[this._v(\"10\")])]),this._v(\" \"),s(\"div\",{staticClass:\"text-line\"},[this._v(\"请选择要上传的图片\")]),this._v(\" \"),s(\"div\",{staticClass:\"clear-selected\",attrs:{title:\"清空已选择的图片\"}},[s(\"img\",{staticClass:\"image\",attrs:{src:\"\"}})]),this._v(\" \"),s(\"input\",{staticClass:\"upload-images-input\",attrs:{type:\"file\",name:\"upload_images\",multiple:\"multiple\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"tip\"},[this._v(\"这边是提示内容\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"preview-images hide\"},[s(\"div\",{staticClass:\"image-item\",attrs:{\"data-filename\":\"sama-96.jpg\"}},[s(\"div\",{staticClass:\"img\"},[s(\"img\",{staticClass:\"image\",attrs:{src:\"http://qp333com.oss-cn-hangzhou.aliyuncs.com/7peishang.com/avatar/2017-11-10/bf07531ad5dd288afc93bab47ee8d258.jpg\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"close\"},[s(\"img\",{staticClass:\"image\",attrs:{src:\"/UploadImages/Images/delete_unfocus.png\",\"data-focus\":\"/UploadImages/Images/delete_focus.png\",\"data-unfocus\":\"/UploadImages/Images/delete_unfocus.png\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"progress hide\"},[s(\"div\",{staticClass:\"p-total\"},[s(\"div\",{staticClass:\"p-cur\"})])]),this._v(\" \"),s(\"div\",{staticClass:\"msg hide\"},[s(\"div\",{staticClass:\"msg-in\"},[this._v(\"成功\")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"upload-image-list hide\"},[a(\"div\",{staticClass:\"upload-title\"},[t._v(\"待上传列表\")]),t._v(\" \"),a(\"div\",{staticClass:\"image-list\"},[a(\"div\",{staticClass:\"list-content list-title\"},[a(\"div\",{staticClass:\"item div-preview\"},[t._v(\"图片预览\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-type\"},[t._v(\"类型\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-size\"},[t._v(\"大小\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-speed\"},[t._v(\"速度\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-status\"},[t._v(\"状态\")]),t._v(\" \"),a(\"div\",{staticClass:\"item div-opr\"},[t._v(\"操作\")])]),t._v(\" \"),a(\"div\",{staticClass:\"list-content list-body\"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"tr\",[s(\"td\",{attrs:{colspan:\"2\"}},[s(\"button\",{staticClass:\"btn-2\",attrs:{type:\"submit\"}},[this._v(\"提交\")])])])}],!1,null,\"7589a258\",null);l.options.__file=\"source/vue/view/route/route.vue\";s.default=l.exports},352:function(t,s,a){},353:function(t,s,a){},365:function(t,s,a){\"use strict\";var i=a(352);a.n(i).a},366:function(t,s,a){\"use strict\";var i=a(353);a.n(i).a}}]);","extractedComments":[]}