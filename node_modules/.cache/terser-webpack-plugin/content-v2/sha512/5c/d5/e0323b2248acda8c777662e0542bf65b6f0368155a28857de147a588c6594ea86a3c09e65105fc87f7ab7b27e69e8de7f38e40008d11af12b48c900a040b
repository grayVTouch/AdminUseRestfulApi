{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{345:function(t,s,i){\"use strict\";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i(\"div\",{staticClass:\"module-container\"},[i(\"module-nav\",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(\" \"),i(\"div\",{staticClass:\"module-content\"},[i(\"div\",{staticClass:\"in\"},[i(\"form\",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[i(\"table\",{staticClass:\"input-tb\"},[i(\"tbody\",[i(\"tr\",{class:t.getClass(t.error.name),attrs:{id:\"name\"}},[i(\"td\",[t._v(\"名称\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.name,expression:\"form.name\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,\"name\",s.target.value)}}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.name))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.en),attrs:{id:\"en\"}},[i(\"td\",[t._v(\"英文名称\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.en,expression:\"form.en\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.en},on:{input:function(s){s.target.composing||t.$set(t.form,\"en\",s.target.value)}}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.en))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.route),attrs:{id:\"route\"}},[i(\"td\",[t._v(\"路由\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.route,expression:\"form.route\"}],staticClass:\"form-text\",attrs:{type:\"text\"},domProps:{value:t.form.route},on:{input:function(s){s.target.composing||t.$set(t.form,\"route\",s.target.value)}}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.route))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.method),attrs:{id:\"method\"}},[i(\"td\",[t._v(\"方法\")]),t._v(\" \"),i(\"td\",[i(\"RadioGroup\",{model:{value:t.form.method,callback:function(s){t.$set(t.form,\"method\",s)},expression:\"form.method\"}},t._l(t.$store.state.business.route.method,function(s){return i(\"Radio\",{key:s,attrs:{label:s}},[t._v(t._s(s))])}),1),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.method))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.type),attrs:{id:\"type\"}},[i(\"td\",[t._v(\"类型\")]),t._v(\" \"),i(\"td\",[i(\"RadioGroup\",{model:{value:t.form.type,callback:function(s){t.$set(t.form,\"type\",s)},expression:\"form.type\"}},t._l(t.$store.state.business.route.type,function(s){return i(\"Radio\",{key:s,attrs:{label:s}},[t._v(t._s(s))])}),1),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"},[t._v(\"*\")]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.type))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.s_ico),attrs:{id:\"s_ico\"}},[i(\"td\",[t._v(\"小图标\")]),t._v(\" \"),i(\"td\",{ref:\"small-image-container\"},[i(\"div\",{staticClass:\"upload-image\"},[t._m(0),t._v(\" \"),i(\"div\",{staticClass:\"init-show-image-list\"},[\"edit\"==t.param.mode&&t.form.s_ico?i(\"img\",{staticClass:\"init-show-image\",attrs:{src:t.form.s_ico}}):t._e()]),t._v(\" \"),i(\"div\",{staticClass:\"preview-images hide\"}),t._v(\" \"),t._m(1)]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.s_ico))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.b_ico),attrs:{id:\"b_ico\"}},[i(\"td\",[t._v(\"大图标\")]),t._v(\" \"),i(\"td\",{ref:\"big-image-container\"},[i(\"div\",{staticClass:\"upload-image\"},[t._m(2),t._v(\" \"),i(\"div\",{staticClass:\"init-show-image-list\"},[\"edit\"==t.param.mode&&t.form.b_ico?i(\"img\",{staticClass:\"init-show-image\",attrs:{src:t.form.b_ico}}):t._e()]),t._v(\" \"),i(\"div\",{staticClass:\"preview-images hide\"}),t._v(\" \"),t._m(3)]),t._v(\" \"),i(\"span\",{staticClass:\"tip\"}),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.b_ico))])])]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.p_id),attrs:{id:\"p_id\"}},[i(\"td\",[t._v(\"上级路由\")]),t._v(\" \"),i(\"td\",[i(\"v-select\",{attrs:{data:t.routes,width:300},model:{value:t.form.p_id,callback:function(s){t.$set(t.form,\"p_id\",s)},expression:\"form.p_id\"}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：顶级路由\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.p_id))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.enable),attrs:{id:\"enable\"}},[i(\"td\",[t._v(\"是否启用\")]),t._v(\" \"),i(\"td\",[i(\"RadioGroup\",{model:{value:t.form.enable,callback:function(s){t.$set(t.form,\"enable\",s)},expression:\"form.enable\"}},t._l(t.$store.state.business.bool_str,function(s,a){return i(\"Radio\",{key:a,attrs:{label:a}},[t._v(t._s(s))])}),1),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：是\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.enable))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.hidden),attrs:{id:\"hidden\"}},[i(\"td\",[t._v(\"是否隐藏\")]),t._v(\" \"),i(\"td\",[i(\"RadioGroup\",{model:{value:t.form.hidden,callback:function(s){t.$set(t.form,\"hidden\",s)},expression:\"form.hidden\"}},t._l(t.$store.state.business.bool_str,function(s,a){return i(\"Radio\",{key:a,attrs:{label:a}},[t._v(t._s(s))])}),1),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：否\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.hidden))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.menu),attrs:{id:\"menu\"}},[i(\"td\",[t._v(\"是否菜单\")]),t._v(\" \"),i(\"td\",[i(\"RadioGroup\",{model:{value:t.form.menu,callback:function(s){t.$set(t.form,\"menu\",s)},expression:\"form.menu\"}},t._l(t.$store.state.business.bool_str,function(s,a){return i(\"Radio\",{key:a,attrs:{label:a}},[t._v(t._s(s))])}),1),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：否\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.menu))])],1)]),t._v(\" \"),i(\"tr\",{class:t.getClass(t.error.weight),attrs:{id:\"weight\"}},[i(\"td\",[t._v(\"权重\")]),t._v(\" \"),i(\"td\",[i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.weight,expression:\"form.weight\"}],staticClass:\"form-text\",attrs:{type:\"number\",step:\"0\"},domProps:{value:t.form.weight},on:{input:function(s){s.target.composing||t.$set(t.form,\"weight\",s.target.value)}}}),t._v(\" \"),i(\"span\",{staticClass:\"necessary\"}),t._v(\" \"),i(\"span\",{staticClass:\"tip\"},[t._v(\"默认：0，仅允许输入整数\")]),t._v(\" \"),i(\"span\",{staticClass:\"msg\"},[t._v(t._s(t.error.weight))])])]),t._v(\" \"),t._m(4)])])])])]),t._v(\" \"),i(\"v-loading\",{ref:\"loading\"})],1)};a._withStripped=!0;var e={name:\"v-route\",data:function(){return{form:{method:\"NONE\",type:\"view\",p_id:0,weight:0,enable:\"y\",hidden:\"n\",menu:\"n\"},error:{},ajax:{get:null,submit:null},dom:{},ins:{loading:null,small:null,big:null},pending:{submit:null},data:{},callback:{image:null},api:routeApi,routes:[],value:{}}},created:function(){},mounted:function(){var t=this;this.initDom(),this.initInstance(),\"edit\"==this.param.mode?new Promise(function(s,i){t.getRoute(s)}).then(function(){t.getData()}):this.getRoute()},mixins:[mixins.loading,mixins.state],methods:{initDom:function(){},initInstance:function(){var t=this;this.ins.small=new UploadImage(this.$refs[\"small-image-container\"],{pluginUrl:topContext.plugin+\"UploadImage/\",mode:\"override\",url:topContext.imageApi,field:\"image\",success:function(s,i){G.isFunction(t.callback.small)&&t.callback.small(s,i)}}),this.ins.big=new UploadImage(this.$refs[\"big-image-container\"],{pluginUrl:topContext.plugin+\"UploadImage/\",mode:\"override\",url:topContext.imageApi,field:\"image\",success:function(s,i){G.isFunction(t.callback.big)&&t.callback.big(s,i)}})},getData:function(){var t=this;this.ins.loading.show(),this.ajax.getData=this.api.detail(this.param.id,function(s,i){t.ins.loading.hide(),200==i?t.form=s:t.$error(s)}),this.ins.loading.setArgs(this.ajax.getData)},getRoute:function(t){var s=this;this.api.list(null,function(i,a){200==a?(s.routes=i,G.isFunction(t)&&t()):s.$msg(i)})},check:function(t){return{status:!0,field:\"\",msg:\"\"}},submit:function(){var t=this;if(this.pending.submit)layer.alert(\"请求中...请耐心等待\");else{var s=this.check();if(!s.status)return this.error[s.field]=s.msg,void vScroll(s.field);this.pending.submit=!0,this.ins.loading.show();var i=this;new Promise(function(s,i){t.ajax.submit=t.api[t.param.mode](t.form,function(i,a){if(t.error={},200!=a)return t.initialState(\"loading\",\"submit\",\"submit\"),400==a?(t.error=i,void vScroll(G.firstKey(i))):void t.$error(i);t.form.id=i,s()}),t.ins.loading.setArgs(t.ajax.submit,\"submit\")}).then(function(){return new Promise(function(s){t.ins.small.empty()?s(!1):(t.callback.small=function(i,a){if(200!=a)return t.eNotice(i),void s(!1);t.value.small=i,s(!0)},t.ins.small.upload())})}).then(function(s){return new Promise(function(i){s?t.api.image({id:t.form.id,image:t.value.small.url,type:\"small\"},function(s,a){200!=a&&t.eNotice(s),i()}):i()})}).then(function(){return new Promise(function(s,i){t.ins.big.empty()?s(!1):(t.callback.big=function(i,a){if(200!=a)return t.eNotice(i),void s(!1);t.value.big=i,s(!0)},t.ins.big.upload())})}).then(function(s){return new Promise(function(i){s?t.api.image({id:t.form.id,image:t.value.big.url,type:\"big\"},function(s,a){200!=a&&t.eNotice(s),i()}):i()})}).then(function(){t.$success(\"操作成功\",{btn:[\"继续\"+(\"edit\"==t.param.mode?\"编辑\":\"添加\"),\"路由列表\"],btn1:function(t){layer.close(t)},btn2:function(){i.location(\"/route/list\",null,\"_self\")}})}).finally(function(){t.initialState(\"loading\",\"submit\",\"submit\")})}}}},n=(i(376),i(470),i(471),i(23)),r=Object(n.a)(e,a,[function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"select-images\"},[s(\"div\",{staticClass:\"upload-show\"},[s(\"div\",{staticClass:\"image-line\"},[s(\"img\",{staticClass:\"image upload-image-btn\",attrs:{src:\"\"}}),s(\"span\",{staticClass:\"selected-count hide\"},[this._v(\"10\")])]),this._v(\" \"),s(\"div\",{staticClass:\"text-line\"},[this._v(\"请选择要上传的图片\")]),this._v(\" \"),s(\"div\",{staticClass:\"clear-selected\",attrs:{title:\"清空已选择的图片\"}},[s(\"img\",{staticClass:\"image\",attrs:{src:\"\"}})]),this._v(\" \"),s(\"input\",{staticClass:\"upload-images-input\",attrs:{type:\"file\",name:\"upload_images\",multiple:\"multiple\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"tip\"},[this._v(\"这边是提示内容\")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i(\"div\",{staticClass:\"upload-image-list hide\"},[i(\"div\",{staticClass:\"upload-title\"},[t._v(\"待上传列表\")]),t._v(\" \"),i(\"div\",{staticClass:\"image-list\"},[i(\"div\",{staticClass:\"list-content list-title\"},[i(\"div\",{staticClass:\"item div-preview\"},[t._v(\"图片预览\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-type\"},[t._v(\"类型\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-size\"},[t._v(\"大小\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-speed\"},[t._v(\"速度\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-status\"},[t._v(\"状态\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-opr\"},[t._v(\"操作\")])]),t._v(\" \"),i(\"div\",{staticClass:\"list-content list-body\"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"select-images\"},[s(\"div\",{staticClass:\"upload-show\"},[s(\"div\",{staticClass:\"image-line\"},[s(\"img\",{staticClass:\"image upload-image-btn\",attrs:{src:\"\"}}),s(\"span\",{staticClass:\"selected-count hide\"},[this._v(\"10\")])]),this._v(\" \"),s(\"div\",{staticClass:\"text-line\"},[this._v(\"请选择要上传的图片\")]),this._v(\" \"),s(\"div\",{staticClass:\"clear-selected\",attrs:{title:\"清空已选择的图片\"}},[s(\"img\",{staticClass:\"image\",attrs:{src:\"\"}})]),this._v(\" \"),s(\"input\",{staticClass:\"upload-images-input\",attrs:{type:\"file\",name:\"upload_images\",multiple:\"multiple\"}})]),this._v(\" \"),s(\"div\",{staticClass:\"tip\"},[this._v(\"这边是提示内容\")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i(\"div\",{staticClass:\"upload-image-list hide\"},[i(\"div\",{staticClass:\"upload-title\"},[t._v(\"待上传列表\")]),t._v(\" \"),i(\"div\",{staticClass:\"image-list\"},[i(\"div\",{staticClass:\"list-content list-title\"},[i(\"div\",{staticClass:\"item div-preview\"},[t._v(\"图片预览\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-type\"},[t._v(\"类型\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-size\"},[t._v(\"大小\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-speed\"},[t._v(\"速度\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-status\"},[t._v(\"状态\")]),t._v(\" \"),i(\"div\",{staticClass:\"item div-opr\"},[t._v(\"操作\")])]),t._v(\" \"),i(\"div\",{staticClass:\"list-content list-body\"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"tr\",[s(\"td\",{attrs:{colspan:\"2\"}},[s(\"button\",{staticClass:\"run-button run-button-submit\",attrs:{type:\"submit\"}},[this._v(\"提交\")])])])}],!1,null,\"7589a258\",null);r.options.__file=\"source/vue/view/route/route.vue\";s.default=r.exports},375:function(t,s,i){},376:function(t,s,i){\"use strict\";var a=i(375);i.n(a).a},383:function(t,s,i){},384:function(t,s,i){},470:function(t,s,i){\"use strict\";var a=i(383);i.n(a).a},471:function(t,s,i){\"use strict\";var a=i(384);i.n(a).a}}]);","extractedComments":[]}